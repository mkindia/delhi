{% extends 'core/base.html' %}

{% block title %}admin{% endblock title %}

{% block main_content %}

<div id="home_content">

  <form>
    <h> For Admin </h>

    <input id="datalist_input" type="search" multiple value="" list="datalist_id" required
      style="text-transform:capitalize;" />
    <datalist id="datalist_id">


      {% for cli in consigne %}

      <option data-id="{{cli.id}}" value="{{cli.consignee_name}} / {{cli.client_id}}"> </option>>

      {% endfor %}

    </datalist>

    <button class="buttonstyle" type="submit" id="check">Check</button>
    <!-- %0a for line brak in whatsups -->
    <a type="button" style="text-size-adjust:none;" href="whatsapp://send/?phone=919213427055&amp;text=Hello user  %0a{{orders}}" id="openWA">Send to
      WhatsApp</a>

  </form>
  <!-- Auto open on WebView and Firefox 
      <iframe id="launcher" src="whatsapp://send/?phone=62812345678&amp;text=test" style="display: none;"></iframe> -->



  <br><br><br>
  <button onclick="c_prompt.render('Aleart Box','Hello World','changeText')">CustomePromot</button>
  <button onclick="c_alert.render('Aleart Box','Hello World',2000)">CustomeAlert</button>
  <button onclick="fetchHtml('/clients/add_client')">getpage</button>
  <button style="position: absolute; z-index: 999999;" onclick="hide()">hide</button>

  <div>
   
  <div id="showpage">
   
  </div>
  
   </div>
{% endblock main_content%}


{% block main_scripts %}

<script>

function hide(){
  document.getElementById('showpage').style.display='none';
}

function fetchHtml(page) {

 fetch(page)
  .then((response) => {
    return response.text();
  })
  .then((html) => {
    document.getElementById('showpage').innerHTML = html ;
    document.getElementById('showpage').style.display='block';
    var scripts = document.getElementById("showpage").querySelectorAll("script");
    for (var i = 0; i < scripts.length; i++) {
    if (scripts[i].innerText) {
      eval(scripts[i].innerText);
    } else {
      fetch(scripts[i].src).then(function (data) {
        data.text().then(function (r) {
          eval(r);
        })
      });

    }
    // To not repeat the element
    scripts[i].parentNode.removeChild(scripts[i]);
   
  }
  });
 
}


function changeText(val){ 
	alert(val);
	
	} 
function doStuff(val){ 
	alert(val);
	} 

  var menumodal = document.getElementById("menuModal");
  var menubtn = document.getElementById("menuBtn");

  window.onclick = function (event) {
    if (event.target == menumodal) {
      menumodal.style.display = "none";
    }

  }

  menubtn.onclick = function (event) {
    menumodal.style.display = "block";
  }



  document.getElementById('check').addEventListener('click', function () {

    itc = selecteddatalistid('datalist_input', 'datalist_id');
    if (itc != undefined) {
      //alert(itc)
    }
    else {
      //alert ("Please Select Valied Value") 
    }
  });


</script>


{% endblock main_scripts %}

